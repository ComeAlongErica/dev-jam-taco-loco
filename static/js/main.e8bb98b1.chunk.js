(this["webpackJsonptaco-loco"]=this["webpackJsonptaco-loco"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),i=n(6),l=n(1),u=function(e){var t=e.handleClick;return a.a.createElement("button",{onClick:t},"Add To Order")},d={borderBottom:"1px solid grey",padding:"10px",display:"flex"},s={width:"75%"},m=function(e){var t=e.item,n=e.addToCart;return a.a.createElement("div",{className:"item",style:d},a.a.createElement("div",{style:s},a.a.createElement("h3",null,t.name),a.a.createElement("p",null,"Price: $",t.price.toFixed(2)),t.discount_threshold&&t.discount_percent&&a.a.createElement("p",null,"Promo: buy ",t.discount_threshold," get ",t.discount_percent,"% off!")),a.a.createElement(u,{handleClick:function(){return n(t)}}))},p={border:"1px solid",padding:"20px",margin:"20px"},f=function(e){var t=e.items,n=e.addToCart,r=t[0].category;return a.a.createElement("div",{style:p},a.a.createElement("h2",null,r),t.map((function(e){return a.a.createElement(m,{key:e.id,item:e,addToCart:n})})))},h={borderBottom:"1px solid grey",padding:"10px"},E=function(e){var t=e.item,n=t.price*t.quantity,r=t.quantity>=t.discount_threshold,c=r?t.discount_percent/100*n:0;return a.a.createElement("div",{style:h},a.a.createElement("h3",null,t.name),a.a.createElement("p",null,"Price: $",(n-c).toFixed(2)),a.a.createElement("p",null,"quantity: ",t.quantity),r&&a.a.createElement("p",null,"Discount of ",t.discount_percent,"% is applied."))},y=function(e){var t=e.submitOrder,n=Object(r.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(!1),d=Object(l.a)(u,2),s=d[0],m=d[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",null,a.a.createElement("label",null,"Name:",a.a.createElement("input",{type:"text",value:o,onChange:function(e){i(e.target.value)}})),a.a.createElement("button",{onClick:function(e){e.preventDefault(),o.length?(t(o),m(!1),window.scrollTo(0,0)):m(!0)}},"Check Out")),s&&a.a.createElement("p",{style:{color:"red"}},"Add name to order to continue"))},b={border:"1px solid",padding:"20px",margin:"20px",width:"40%"},g=function(e){var t=e.items,n=e.submitOrder,r=0===t.length;return a.a.createElement("div",{style:b},a.a.createElement("h2",null,"Your Cart"),r&&a.a.createElement("p",null,"Add something to your cart."),!r&&t.map((function(e){return a.a.createElement(E,{key:e.id,item:e})})),!r&&a.a.createElement(y,{submitOrder:n}))},v={border:"1px solid",padding:"20px",margin:"20px",width:"100%"},x=function(e){var t=e.status;return a.a.createElement("div",{style:v},a.a.createElement("h2",null,"Status of Order: ",t.orderStatus),a.a.createElement("h2",null,"Order Will Be Ready At: ",t.orderReadyTime))},O=function(e){var t=0;return e.forEach((function(e){var n=e.price*e.quantity,r=e.quantity>=e.discount_threshold?e.discount_percent/100*n:0;t+=n-r})),t},w={display:"flex",flexWrap:"wrap"},j={width:"40%",flexGrow:1};var T=function(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)([]),u=Object(l.a)(o,2),d=u[0],s=u[1],m=Object(r.useState)(),p=Object(l.a)(m,2),h=p[0],E=p[1];Object(r.useEffect)((function(){window.fetch("https://virtserver.swaggerhub.com/Detroit_Labs/Taco_Truck/1.0.0/menu").then((function(e){return e.json().then((function(e){return function(e){var t={categories:[]};return e.forEach((function(e){var n=e.category;t[n]||(t.categories.push(n),t[n]=[]),t[n].push(e)})),t}(e)}))})).then((function(e){return c(e)}))}),[]);var y=function(e){var t=Object(i.a)(d),n=t.findIndex((function(t){return t.name===e.name}));-1===n?(e.quantity=1,t.push(e)):t[n].quantity++,s(t)},b=n.categories&&n.categories.length;return a.a.createElement("div",{style:w},h&&a.a.createElement(x,{status:h}),a.a.createElement("div",{style:j},!b&&a.a.createElement("p",null,"Please wait..."),b&&n.categories.map((function(e,t){return a.a.createElement(f,{key:t,items:n[e],addToCart:y})}))),a.a.createElement(g,{items:d,submitOrder:function(e){var t,n={customerName:e,totalPrice:O(d),orderItems:d};(t=n,window.fetch("https://virtserver.swaggerhub.com/Detroit_Labs/Taco_Truck/1.0.0/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log("error: ",e)}))).then((function(e){return E(e)}))}}))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(12)}},[[7,1,2]]]);
//# sourceMappingURL=main.e8bb98b1.chunk.js.map